<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Register - CineVillage Admin Portal</title>
  <link rel="stylesheet" href="/css/style.css">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><rect width=%22100%22 height=%22100%22 fill=%22%231a1a2e%22/><text x=%2250%22 y=%2265%22 font-size=%2250%22 fill=%22%23e94560%22 text-anchor=%22middle%22 font-family=%22sans-serif%22>C</text></svg>">
</head>
<body>
  <div class="auth-container">
    <div class="auth-card">
      <div class="auth-header">
        <h1 class="gradient-text">CineVillage</h1>
        <p>Create Your Staff Account</p>
      </div>

      <% if (error) { %>
        <div class="alert alert-danger">
          <span><%= error %></span>
        </div>
      <% } %>

      <% if (success) { %>
        <div class="alert alert-success">
          <span><%= success %></span>
        </div>
      <% } %>

      <form action="/auth/register" method="POST" id="registerForm">
        <div class="form-group">
          <label for="name">Full Name</label>
          <input 
            type="text" 
            id="name" 
            name="name" 
            class="form-control" 
            placeholder="Enter your full name"
            required
          >
        </div>

        <div class="form-group">
          <label for="username">Username</label>
          <input 
            type="text" 
            id="username" 
            name="username" 
            class="form-control" 
            placeholder="Choose a unique username"
            required
            minlength="3"
          >
        </div>

        <div class="form-group">
          <label for="email">Email</label>
          <input 
            type="email" 
            id="email" 
            name="email" 
            class="form-control" 
            placeholder="your.email@cinevillage.com"
            required
          >
        </div>

        <div class="form-group">
          <label for="password">Password</label>
          <input 
            type="password" 
            id="password" 
            name="password" 
            class="form-control" 
            placeholder="Choose a strong password (min 6 characters)"
            required
            minlength="6"
          >
          <small class="text-muted">Password must be at least 6 characters long</small>
        </div>

        <div class="form-group">
          <label for="role">Role</label>
          <select id="role" name="role" class="form-control">
            <option value="staff">Staff Member</option>
            <option value="manager">Manager</option>
            <option value="admin">Administrator</option>
          </select>
        </div>

        <button type="submit" class="btn btn-success" style="width: 100%; font-size: 1.05rem; padding: 1rem;">
          Create Account
        </button>
      </form>

      <div class="auth-links">
        Already have an account? <a href="/auth/login">Login here â†’</a>
      </div>
    </div>
  </div>

  <script>
    // Password strength indicator
    document.addEventListener('DOMContentLoaded', function() {
      const passwordInput = document.getElementById('password');
      const strengthDiv = document.createElement('div');
      strengthDiv.style.cssText = 'margin-top: 0.5rem; font-size: 0.85rem; font-weight: 600;';
      passwordInput.parentElement.appendChild(strengthDiv);
      
      passwordInput.addEventListener('input', function() {
        const password = this.value;
        let strength = 'Weak';
        let color = '#e74c3c';
        
        if (password.length >= 8 && /[A-Z]/.test(password) && /[0-9]/.test(password)) {
          strength = 'Strong';
          color = '#00d9a3';
        } else if (password.length >= 6) {
          strength = 'Medium';
          color = '#ffa801';
        }
        
        if (password.length > 0) {
          strengthDiv.textContent = `Password Strength: ${strength}`;
          strengthDiv.style.color = color;
        } else {
          strengthDiv.textContent = '';
        }
      });
    });
  </script>
</body>
</html>
